# Hetzner Setup Guide for MinIO
## Cloud VPS à¹à¸¥à¸° Robot (Dedicated/Auction Servers)

---

## ğŸ“‹ Overview

| Type | Hetzner Cloud | Hetzner Robot (Dedicated) |
|------|---------------|---------------------------|
| Console | console.hetzner.cloud | robot.hetzner.com |
| Private Network | vSwitch (auto) | vSwitch (manual) |
| Pricing | Per hour | Per month |
| Best for | Testing, small scale | Production, large storage |

---

# Part 1: Hetzner Cloud (VPS)

## ğŸ”§ Step 1: à¸ªà¸£à¹‰à¸²à¸‡ Private Network

### 1.1 Login to Hetzner Cloud Console

```
URL: https://console.hetzner.cloud
```

### 1.2 Create Network

1. à¹€à¸¥à¸·à¸­à¸ **Project** à¸‚à¸­à¸‡à¸„à¸¸à¸“
2. à¹„à¸›à¸—à¸µà¹ˆà¹€à¸¡à¸™à¸¹ **Networks** (à¸‹à¹‰à¸²à¸¢à¸¡à¸·à¸­)
3. Click **Create Network**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Create Network                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name:        minio-network              â”‚
â”‚ IP Range:    10.0.0.0/16                â”‚
â”‚ Labels:      env=production             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

4. Click **Create Network**

### 1.3 Add Subnet

1. Click à¸—à¸µà¹ˆ Network à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡
2. Click **Add Subnet**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Add Subnet                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Type:           Cloud                   â”‚
â”‚ Network Zone:   eu-central              â”‚
â”‚ IP Range:       10.0.0.0/24             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ–¥ï¸ Step 2: à¸ªà¸£à¹‰à¸²à¸‡ Servers

### 2.1 Create Server

1. à¹„à¸›à¸—à¸µà¹ˆ **Servers** â†’ **Add Server**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Create Server                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Location:        Falkenstein (fsn1) à¸«à¸£à¸·à¸­ Nuremberg (nbg1)   â”‚
â”‚                                                              â”‚
â”‚ Image:           Ubuntu 24.04                                â”‚
â”‚                                                              â”‚
â”‚ Type:            CPX31 (4 vCPU, 8GB RAM, 160GB)             â”‚
â”‚                  à¸«à¸£à¸·à¸­à¹ƒà¸«à¸à¹ˆà¸à¸§à¹ˆà¸²à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£                        â”‚
â”‚                                                              â”‚
â”‚ Networking:                                                  â”‚
â”‚   â˜‘ Public IPv4                                             â”‚
â”‚   â˜‘ Private Network: minio-network                          â”‚
â”‚       IP: 10.0.0.1 (à¸à¸³à¸«à¸™à¸”à¹€à¸­à¸‡)                                â”‚
â”‚                                                              â”‚
â”‚ SSH Keys:        à¹€à¸¥à¸·à¸­à¸ SSH key à¸‚à¸­à¸‡à¸„à¸¸à¸“                        â”‚
â”‚                                                              â”‚
â”‚ Name:            minio1                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 à¸ªà¸£à¹‰à¸²à¸‡ Server à¸—à¸±à¹‰à¸‡ 4 à¸•à¸±à¸§

| Server | Private IP | Name |
|--------|------------|------|
| Server 1 | 10.0.0.1 | minio1 |
| Server 2 | 10.0.0.2 | minio2 |
| Server 3 | 10.0.0.3 | minio3 |
| Server 4 | 10.0.0.4 | minio4 |

---

## ğŸ’¾ Step 3: à¹€à¸à¸´à¹ˆà¸¡ Volume (Block Storage)

à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ storage à¹€à¸à¸´à¹ˆà¸¡:

1. à¹„à¸›à¸—à¸µà¹ˆ **Volumes** â†’ **Create Volume**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Create Volume                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name:            minio1-data            â”‚
â”‚ Size:            1000 GB (à¸«à¸£à¸·à¸­à¸¡à¸²à¸à¸à¸§à¹ˆà¸²)   â”‚
â”‚ Location:        Same as server         â”‚
â”‚ Automount:       â˜‘ (mount to /mnt/data) â”‚
â”‚ Format:          xfs                    â”‚
â”‚ Server:          minio1                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

2. à¸—à¸³à¸‹à¹‰à¸³à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸¸à¸ server

---

## âœ… Step 4: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Network

SSH à¹€à¸‚à¹‰à¸²à¹à¸•à¹ˆà¸¥à¸° server:

```bash
# à¸”à¸¹ network interfaces
ip addr show

# à¸„à¸§à¸£à¹€à¸«à¹‡à¸™:
# eth0: Public IP (à¹€à¸Šà¹ˆà¸™ 65.21.xxx.xxx)
# ens10: Private IP (à¹€à¸Šà¹ˆà¸™ 10.0.0.1)

# à¸—à¸”à¸ªà¸­à¸š connectivity
ping 10.0.0.2    # à¸ˆà¸²à¸ minio1 à¹„à¸› minio2
ping 10.0.0.3    # à¸ˆà¸²à¸ minio1 à¹„à¸› minio3
ping 10.0.0.4    # à¸ˆà¸²à¸ minio1 à¹„à¸› minio4
```

---

## ğŸ”¥ Step 5: Firewall Rules

### 5.1 Create Firewall à¹ƒà¸™ Console

1. à¹„à¸›à¸—à¸µà¹ˆ **Firewalls** â†’ **Create Firewall**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Firewall Rules                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Inbound Rules:                                               â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ SSH          TCP    22      Any (0.0.0.0/0)            â”‚ â”‚
â”‚ â”‚ MinIO API    TCP    9000    Any (0.0.0.0/0)            â”‚ â”‚
â”‚ â”‚ MinIO Console TCP   9001    Any (0.0.0.0/0)            â”‚ â”‚
â”‚ â”‚ Internal     TCP    Any     10.0.0.0/24 (Private only) â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ Apply to:  minio1, minio2, minio3, minio4                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# Part 2: Hetzner Robot (Dedicated/Auction Servers)

## ğŸ”§ Step 1: à¸ªà¸±à¹ˆà¸‡à¸‹à¸·à¹‰à¸­ Servers

### 1.1 Server Auction

```
URL: https://www.hetzner.com/sb
```

à¹€à¸¥à¸·à¸­à¸ server à¸—à¸µà¹ˆà¸¡à¸µ:
- CPU: Intel/AMD (à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£)
- RAM: 32GB+ (à¹à¸™à¸°à¸™à¸³)
- Disk: 1+ disks à¸ªà¸³à¸«à¸£à¸±à¸š data

### 1.2 à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ Specs à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Example: AX41-NVMe (Auction)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CPU:     AMD Ryzen 5 3600                                  â”‚
â”‚  RAM:     64 GB DDR4                                        â”‚
â”‚  Disk:    2 x 512GB NVMe (OS + Data)                        â”‚
â”‚  Network: 1 Gbit/s                                          â”‚
â”‚  Price:   ~â‚¬35-45/month                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Example: AX102 (For large storage)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CPU:     AMD Ryzen 9 5950X                                 â”‚
â”‚  RAM:     128 GB DDR4                                       â”‚
â”‚  Disk:    2 x 1.92TB NVMe                                   â”‚
â”‚  Network: 1 Gbit/s                                          â”‚
â”‚  Price:   ~â‚¬85/month                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Step 2: à¸ªà¸£à¹‰à¸²à¸‡ vSwitch (Private Network)

### 2.1 Login to Hetzner Robot

```
URL: https://robot.hetzner.com
```

### 2.2 Create vSwitch

1. à¹„à¸›à¸—à¸µà¹ˆ **Servers** â†’ à¹€à¸¥à¸·à¸­à¸ Server à¸•à¸±à¸§à¹à¸£à¸
2. à¹„à¸›à¸—à¸µà¹ˆ tab **vSwitch**
3. Click **Create vSwitch**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Create vSwitch                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name:        minio-vswitch              â”‚
â”‚ VLAN ID:     4000                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Add Servers to vSwitch

1. Click à¸—à¸µà¹ˆ vSwitch à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡
2. **Add Server** â†’ à¹€à¸¥à¸·à¸­à¸à¸—à¸¸à¸ server à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Servers in vSwitch                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ server1.example.com                   â”‚
â”‚ â˜‘ server2.example.com                   â”‚
â”‚ â˜‘ server3.example.com                   â”‚
â”‚ â˜‘ server4.example.com                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Step 3: Configure Network à¸šà¸™ Server

### 3.1 à¸«à¸² Network Interface

```bash
# SSH à¹€à¸‚à¹‰à¸² server
ssh root@YOUR_SERVER_IP

# à¸”à¸¹ interfaces
ip link show

# à¸›à¸à¸•à¸´à¸ˆà¸°à¹€à¸›à¹‡à¸™:
# enp0s31f6 à¸«à¸£à¸·à¸­ eth0 = main interface
```

### 3.2 à¸ªà¸£à¹‰à¸²à¸‡ VLAN Interface

#### Ubuntu 22.04/24.04 (Netplan)

```bash
# à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ config
sudo nano /etc/netplan/99-vswitch.yaml
```

```yaml
# /etc/netplan/99-vswitch.yaml
network:
  version: 2
  vlans:
    vlan4000:
      id: 4000
      link: enp0s31f6    # â† à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸²à¸¡ interface à¸‚à¸­à¸‡à¸„à¸¸à¸“
      mtu: 1400
      addresses:
        - 10.0.0.1/24    # â† Node 1: 10.0.0.1, Node 2: 10.0.0.2, etc.
```

```bash
# Apply config
sudo netplan apply

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š
ip addr show vlan4000
```

#### Debian 12 (interfaces)

```bash
# à¹à¸à¹‰à¹„à¸‚ /etc/network/interfaces
sudo nano /etc/network/interfaces
```

```
# /etc/network/interfaces
# à¹€à¸à¸´à¹ˆà¸¡à¸—à¹‰à¸²à¸¢à¹„à¸Ÿà¸¥à¹Œ:

auto vlan4000
iface vlan4000 inet static
    address 10.0.0.1/24     # â† à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸²à¸¡ node
    vlan-raw-device enp0s31f6
    mtu 1400
```

```bash
# Restart networking
sudo systemctl restart networking

# à¸«à¸£à¸·à¸­
sudo ifup vlan4000
```

### 3.3 à¸—à¸³à¸‹à¹‰à¸³à¸šà¸™à¸—à¸¸à¸ Server

| Server | VLAN IP |
|--------|---------|
| Server 1 | 10.0.0.1/24 |
| Server 2 | 10.0.0.2/24 |
| Server 3 | 10.0.0.3/24 |
| Server 4 | 10.0.0.4/24 |

---

## âœ… Step 4: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Connectivity

```bash
# à¸ˆà¸²à¸ Server 1
ping 10.0.0.2
ping 10.0.0.3
ping 10.0.0.4

# à¸„à¸§à¸£à¹„à¸”à¹‰à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ:
# PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
# 64 bytes from 10.0.0.2: icmp_seq=1 ttl=64 time=0.5 ms
```

---

## ğŸ”¥ Step 5: Firewall (iptables)

```bash
# Allow MinIO ports from private network
sudo iptables -A INPUT -s 10.0.0.0/24 -p tcp --dport 9000 -j ACCEPT
sudo iptables -A INPUT -s 10.0.0.0/24 -p tcp --dport 9001 -j ACCEPT

# Allow from public (Cloudflare IPs)
# à¸”à¸¹ Cloudflare IPs: https://www.cloudflare.com/ips/
sudo iptables -A INPUT -s 173.245.48.0/20 -p tcp --dport 9000 -j ACCEPT
sudo iptables -A INPUT -s 103.21.244.0/22 -p tcp --dport 9000 -j ACCEPT
# ... à¹€à¸à¸´à¹ˆà¸¡ Cloudflare IP ranges à¸­à¸·à¹ˆà¸™à¹†

# Save rules
sudo apt install iptables-persistent -y
sudo netfilter-persistent save
```

---

## ğŸ’¾ Step 6: Prepare Data Disk

### à¸–à¹‰à¸²à¸¡à¸µ disk à¹à¸¢à¸à¸ªà¸³à¸«à¸£à¸±à¸š data:

```bash
# à¸”à¸¹ disks
lsblk

# à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ output:
# sda     500G  â† OS disk
# sdb     2T    â† Data disk

# Format (à¸–à¹‰à¸²à¹€à¸›à¹‡à¸™ disk à¹ƒà¸«à¸¡à¹ˆ)
sudo mkfs.xfs /dev/sdb

# à¸ªà¸£à¹‰à¸²à¸‡ mount point
sudo mkdir -p /mnt/minio-data

# Mount
sudo mount /dev/sdb /mnt/minio-data

# Add to fstab
echo '/dev/sdb /mnt/minio-data xfs defaults,noatime 0 2' | sudo tee -a /etc/fstab

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š
df -h /mnt/minio-data
```

---

# Part 3: Network Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Internet                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Cloudflare   â”‚
                        â”‚  (CDN + DNS)  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚                       â”‚
        â–¼ Public IP             â–¼ Public IP             â–¼ Public IP
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   minio1    â”‚        â”‚   minio2    â”‚        â”‚   minio3    â”‚  ...
   â”‚ 65.21.x.x   â”‚        â”‚ 65.21.x.x   â”‚        â”‚ 65.21.x.x   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚  10.0.0.1   â”‚â—„â”€â”€â”€â”€â”€â”€â–¶â”‚  10.0.0.2   â”‚â—„â”€â”€â”€â”€â”€â”€â–¶â”‚  10.0.0.3   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    Private Network / vSwitch
                    
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Hetzner Cloud: Uses "Private Networks" (automatic VLAN)    â”‚
   â”‚  Hetzner Robot: Uses "vSwitch" (manual VLAN configuration)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# Part 4: Quick Comparison

| Feature | Hetzner Cloud | Hetzner Robot |
|---------|---------------|---------------|
| Private Network | Auto (built-in) | Manual (vSwitch + VLAN) |
| Network Speed | 10 Gbps internal | 1 Gbps (vSwitch) |
| Setup Time | Minutes | Hours |
| Monthly Cost | Higher per TB | Lower per TB |
| Best For | Dev/Test, Small prod | Large storage, Production |

---

# Part 5: Final Checklist

## Hetzner Cloud Checklist

- [ ] Created Private Network (10.0.0.0/16)
- [ ] Created Subnet (10.0.0.0/24)
- [ ] Created 4 Servers in same location
- [ ] Attached all servers to Private Network
- [ ] Assigned Private IPs (10.0.0.1-4)
- [ ] Created/Attached Volumes for data
- [ ] Configured Firewall rules
- [ ] Tested ping between nodes

## Hetzner Robot Checklist

- [ ] Ordered 4 dedicated servers
- [ ] Created vSwitch with VLAN ID
- [ ] Added all servers to vSwitch
- [ ] Configured VLAN interface on each server
- [ ] Assigned Private IPs (10.0.0.1-4)
- [ ] Formatted and mounted data disks
- [ ] Configured iptables firewall
- [ ] Tested ping between nodes

---

## ğŸš€ Next Step

à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸ setup network à¹€à¸ªà¸£à¹‡à¸ˆ:

```bash
# Clone repo
git clone <repo> && cd minio-cloud

# Edit node IPs
nano config/nodes.txt

# Run installation
sudo ./install.sh --node 1 --total 4 --ip 10.0.0.1
```
